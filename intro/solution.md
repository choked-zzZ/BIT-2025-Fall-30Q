# Solution

题解采用Markdown格式，如若网站不支持可自行复制到Obsidian\Notion等软件查看

实际上是T1-T4，因为T5不是我写的（

## T1

比较简单 最终正确的情况只会有 `(min < ans < max)` 这一种情况，`min`和`max`分别代表前文推导出的可能的答案的下界与上界

而上下界是具有单调性的，就是说上界不会变大，下界不会变小，分别用一个变量维护即可，不断更新上下界，到达right on的时候检查是否合法就可以了



## T2

对于一个格子，不能存在同一列和同一行上都比他更高的草，要不然这个格子不可能被修剪成这样低

这是充要条件，但是这里只给出了必要条件的论述，充分条件的证明可以询问LLM

（GPT-5的回答**未验证**）



我们要证明：如果 **每个格子都满足条件**（即每个格子 ≤ 行最大值或 ≤ 列最大值），那么总可以通过一系列操作得到目标图案。

#### 

- 初始高度都是 **100**，比任何目标高度都高。
- 我们只会 **减小高度**。
- 每个格子 `(i,j)` 的高度 `h`：
  - 如果 `h == row_max[i]` → 可以用一刀横向割草达到
  - 如果 `h == col_max[j]` → 可以用一刀纵向割草达到
  - 如果 `h < row_max[i]` 且 `h == col_max[j]` → 用列割草达到
  - 如果 `h < col_max[j]` 且 `h == row_max[i]` → 用行割草达到
- 因为割草机只会 **把高于目标高度的割掉**，不会破坏已经低于目标的格子，所以割草顺序不会冲突。

> 换句话说，**只要每个格子满足 ≤ 行最大值或 ≤ 列最大值，就可以先横向割行，再纵向割列（或者相反）得到最终图案**。





## T3

二进制

经典思维题 一般是用这道题来学习这个思维 而并不是硬想出来去解决这个题

如果题目没写出来，不用纠缠，直接看题解



考虑一个k位的二进制，以k=2为例子

- 一共有四种情况，00, 01, 10, 11，分别代表四个酒桶

- 取2只小鼠，命名1,2

- 对每个酒桶，如果第r位是1，那么第r个小鼠试酒



验证环节

- 第一个酒桶有毒，没有小鼠死亡

- 第二个酒桶有毒，第二个小鼠死亡

- 第三个酒桶有毒，第一个小鼠死亡

- 第四个酒桶有毒，全部小鼠死亡

在这里小鼠死亡的情况与酒桶下毒情况构成一一映射的关系（原因是十进制和二进制的一一对应）

读者可以取k=3，4等情况验证



k=2能够表示出$2^2$种情况，一般来说k位就能表示$2^k$种情况，所以找到最小的k使得$2^k$大于等于酒桶的数量即可（有很多解决方式）

如果看懂了上面的解释，下面的另外一个角度的解释会更清晰：

小鼠只会有两种状态，喝了这个酒\没喝这个酒，所以用二进制表示，1喝了\0没喝

对于N个酒桶，取0到N-1的二进制表示（一定互不相同）高位用0填充

- 比如N=7 分别为 000, 001, 010, 011, 100, 101, 110

仍然采用上述的方法试酒

如果酒没毒 喝了就跟没喝一样

如果酒有毒 喝了的小鼠就会死

看哪些小鼠喝了，因为一个桶的二进制标号是唯一且确定的 所以死掉的小鼠也一定是确定的



## T4

一维动态规划+空间优化

**注意溢出**

答案开long long就好了

以题目的数据为例子0 1 0 2 1 0 1 3 2 1 2 1，且最高高度(H)为3，考虑以下问题（读者可拿起纸笔画一下相邻两格的情况）

- 我在末尾额外加一个3，对答案有影响吗？
  - 没有，因为新加的地方高度在3以下的不用挖，和前面隔断了，没有在3之上的

- 我在末尾额外加一个2，对答案有影响吗？
  - 没有，因为新加的地方高度在2以下的不用挖，和前面隔断了，3因为前面是*1*，可以顺着前面的多挖一格

- 我在末尾额外加一个1，对答案有影响吗？
  - 没有，因为新加的地方高度在1以下的不用挖，和前面隔断了，2和3因为前面是*1*，可以顺着前面的多挖一格

- 我在末尾额外加一个0，对答案有影响吗？
  - **有**，因为新加的0前面是1，导致需要新挖掉高度为1的部分，但是高度为2和3的部分仍然可以顺着前面挖

发现规律：如果该格高度(h1)低于前一格高度(h2)，那么有(h2 - h1)格需要新开始挖，答案需要加上(h2 - h1)

初始条件：长度为0的时候答案设置为0，前一格高度设置为最高高度H，（湖的边缘当然是最高的岸）



## T5

单调栈/双指针/前后缀/动态规划

力扣笑传之catch catch (b)rain

很出名的一道题，据说是字节跳动经常考这道，难度有点高，读者有耐心自行研究

https://leetcode.cn/problems/trapping-rain-water/description/

可以查看题解

感觉主播的题解写出来 会的不用看 不会的看不懂 就不献丑了